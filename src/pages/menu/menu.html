<!--
  Generated template for the MenuPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header color="light">

  <ion-navbar>
    <ion-title>Menu</ion-title>
      
      <ion-buttons right>
           <button ion-button icon-only (click)="toggleShowSearch()">
               <ion-icon *ngIf="!showSearch" name="search"></ion-icon>
               <ion-icon *ngIf="showSearch" color="primary" name="search"></ion-icon>
           </button>
    </ion-buttons>
      
  </ion-navbar>
    <ion-searchbar *ngIf="showSearch"
  placeholder="Cerca pizza"
  (ionInput)="filterItems($event)">
</ion-searchbar>
    

</ion-header>


<ion-content [ngClass]="(showSearch) ? 'margin-top' : ''">

    
  <ion-list >

  <ion-item-sliding *ngFor="let pizza of pizzasShowed">
    <ion-item *ngIf="pizza.pizzamenu.length > 0">
      <!--   
      <ion-badge item-start>
       
        <ion-img width="40" height="40" src="https://previews.123rf.com/images/izakowski/izakowski1410/izakowski141000045/32318068-Cartoon-illustrazione-di-Object-italiana-Pizza-Cibo-Archivio-Fotografico.jpg"></ion-img>

<img src="assets/img/pizza.jpg"/>
      
      
          {{pizza.price | currency:'EUR':true:'1.2-2'}}
      </ion-badge>
-->
        
      <text-img [text]="pizza.price | currency:'EUR':true:'1.2-2'" item-start></text-img>
        
      <ion-label>{{pizza.pizzamenu[0].name}}</ion-label>

     <ion-toggle color="secondary" [(ngModel)]="pizza.available" (ionChange)="updatePizzamenuAvailability(pizza['_id'], pizza.available)" checked="pizza.available}}"></ion-toggle>

    </ion-item>
    <ion-item-options side="right">
        <button ion-button color="primary" (click)="showInfoModal(idPizzeria, pizza)">
        <ion-icon name="information-circle"></ion-icon>
        DETTAGLIO
      </button>
      <button ion-button color="warn" (click)="showEditModal('Modifica', idPizzeria, pizza)">
        <ion-icon name="build"></ion-icon>
        MODIFICA
      </button>
      <button ion-button color="danger"  (click)="showDeletePizzaConfirm(pizza)">
        <ion-icon name="trash"></ion-icon>
        ELIMINA
      </button>

    </ion-item-options>
  </ion-item-sliding>
  
</ion-list>
<br/>
<br/>
<br/>
<br/>

<ion-fab bottom right>
    <button color="warn" ion-fab (click)="showEditModal('Aggiungi', idPizzeria)">
      <ion-icon name="add"></ion-icon>
    </button>
  </ion-fab>

</ion-content>
